/*! jQuery ResponsiveIframe - v0.0.3 - 2013-02-26
* https://github.com/npr/responsiveiframe
* Copyright (c) 2013 inadarei; Licensed MIT, GPL */
"undefined"!=typeof jQuery&&function(e){var t={xdomain:"*",ie:navigator.userAgent.toLowerCase().indexOf("msie")>-1,scrollToTop:!0},n={init:function(){return this.each(function(){var n=e(this);window.postMessage?window.addEventListener?window.addEventListener("message",function(e){o.messageHandler(n,e)},!1):window.attachEvent&&window.attachEvent("onmessage",function(e){o.messageHandler(n,e)},n):setInterval(function(){var e=window.location.hash,i=e.match(/^#h(\d+)(s?)$/);i&&(o.setHeight(n,i[1]),t.scrollToTop&&"s"===i[2]&&scroll(0,0))},150)})}},o={messageHandler:function(e,n){var i,s,a,r;if("*"!==t.xdomain){var d=RegExp(t.xdomain+"$");if("null"==n.orgin)throw Error("messageHandler( elem, e): There is no origin.  You are viewing the page from your file system.  Please run through a web server.");if(!n.origin.match(d))throw Error("messageHandler( elem, e): The orgin doesn't match the responsiveiframe  xdomain.");a=!0}if(("*"===t.xdomain||a)&&(r=n.data+"",s=r.match(/^(\d+)(s?)$/),s&&3===s.length)){if(i=parseInt(s[1],10),!isNaN(i))try{o.setHeight(e,i)}catch(h){}t.scrollToTop&&"s"===s[2]&&scroll(0,0)}},setHeight:function(e,t){e.css("height",t+"px")},getDocHeight:function(){var e=document;return Math.min(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}};e.fn.responsiveIframe=function(o){return n[o]?n[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?(e.error("Method "+o+" does not exist on jQuery.responsiveIframe"),void 0):(e.extend(t,arguments[0]),n.init.apply(this))}}(jQuery),function(){function e(){return new o}var t,n,o=function(){t=this};o.prototype.allowResponsiveEmbedding=function(){window.addEventListener?(window.addEventListener("load",t.messageParent,!1),window.addEventListener("resize",t.messageParent,!1)):window.attachEvent&&(window.attachEvent("onload",t.messageParent),window.attachEvent("onresize",t.messageParent))},o.prototype.messageParent=function(e){var t=document.body.offsetHeight;t=e?t+"s":t,top.postMessage?top.postMessage(t,"*"):window.location.hash="h"+t},"undefined"==typeof exports?window.responsiveIframe=e:n.exports.responsiveIframe=e}();